var naff=function(){function a(a){switch(typeof a){case"undefined":this.origin=null;break;case"string":this.origin=document.querySelector(a);break;case"object":this.origin=a}return this}return a.prototype.applyTemplate=function(){if(this.origin){this.originCopy=document.createElement("copy"),this.originCopy.innerHTML=this.origin.innerHTML,this.originAltered=document.createElement("altered"),this.originAltered.innerHTML=this.origin.template.innerHTML;var a=this.origin.template.content.querySelectorAll("content[select]"),b=this.origin.template.content.querySelector("content");if(a.length>0){for(var c=0;c<a.length;c++)if(a[c].hasAttribute("select")&&this.originCopy.querySelector(a[c].getAttribute("select"))){var d=this.originAltered.querySelector("content[select="+a[c].getAttribute("select")+"]");d.parentNode.insertBefore(this.originCopy.querySelector(a[c].getAttribute("select")).cloneNode(!0),d),d.parentNode.removeChild(d)}}else b&&(this.originAltered.querySelector("content").innerHTML=this.originCopy.innerHTML);return this.origin.innerHTML=this.originAltered.innerHTML,this}},a.prototype.findScope=function(){if(!this.origin)return this;for(var a=this.origin;a.tagName&&!a.template;)a=a.parentNode;return this.scope=a.template?a:null,this},a.prototype.findParentScope=function(a){this.scope||this.findScope();for(var b=this.scope.parentNode;!(!b.tagName||a&&b.tagName==a.toUpperCase()&&b.template||!a&&b.template);)b=b.parentNode;return this.scope=b.template?b:null,this},a.prototype.getScope=function(){return this.origin?(this.scope||this.findScope(),this.scope):this},a.prototype.getParentScope=function(){return this.origin?(this.scope||this.findParentScope(),this.scope):this},function(b){return new a(b)}}();